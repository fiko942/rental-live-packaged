'use strict';const _0x3b4177=_0x20b4;function _0x20b4(_0x25b27f,_0x15f84a){const _0x1914dc=_0x1914();return _0x20b4=function(_0x20b43a,_0x37a2a8){_0x20b43a=_0x20b43a-0xe0;let _0x584f11=_0x1914dc[_0x20b43a];return _0x584f11;},_0x20b4(_0x25b27f,_0x15f84a);}function _0x1914(){const _0x5002a0=['running','database','getSessionByUserId','removeTask','throw','bytesSize','unlinkSync','requireAuthUrl','email','unix','Dibuat','stringify','stats','string','then','endsWith','File\x20','userId','alias','apply','body','findOne','startOf','default','label','map','value','status','Anda\x20sudah\x20tidak\x20dapat\x20menambahkan\x20api\x20key\x20lagi','existsSync','originalName','Balance\x20error\x20no\x20row\x20cant\x20be\x20found','count','taskStats','Status\x20of\x20this\x20task\x20is\x20cant\x20be\x20started','setActive','There\x27s\x20no\x20session\x20found\x20for\x20your\x20account','1714824Hjjkmw','storageStats','exists','548lDGiSk','storage','statusKey','mimeType','rtmps','getUserIdByReq\x20error:\x20failed\x20for\x20find\x20the\x20user\x20id','\x22\x20is\x20not\x20an\x20video','endOf','push','uuid','publicAccess','files','UNAUTHORIZED','created','toString','createTask','setHeader','changeTaskState','currentEpoch','folder','maxPerUser','usage','includes','DESC','between','permanent','toLowerCase','session','number','create','trash','catchMiddleware','1200epYArh','Tugas\x20berhasil\x20dibuat','headersTokenName','balance','addHistory','rtmp','update','969363JqKPIB','headers','from','reset','stop','Access\x20denied!','orange','defineProperty','X-Request-ID','511760oCIwBK','apiCallsHistory','split','moment-timezone','getUsageStats','7272BwrlzR','isAuthenticatedRequest','File\x20\x22','start','458VZZimL','list','__awaiter','secretKey','156588defjAo','apiKeys','json','15162862IQfKhp','restarting','spawnTask','__esModule','task','absPath','Asia/Jakarta','hash','tasks','Invalid\x20type\x20argument','base64','State\x20is\x20not\x20recognized','usedTasksByFile','test','trim','Name\x20is\x20cant\x20be\x20empty','35ZlFZfi','path','destroy','getSecretKeyById','join','method','25kYfgmx','next','You\x27ve\x20reached\x20the\x20limit\x20today:\x20','getUserIdByReq','detail','findAll','days','length','toISOString','getSecretId','stopped','isBanned','user','fileInformation','isURL','File\x20not\x20found','Unauthorized','removeFile'];_0x1914=function(){return _0x5002a0;};return _0x1914();}(function(_0x961009,_0x251a0b){const _0x43ab97=_0x20b4,_0x504e15=_0x961009();while(!![]){try{const _0x3d5cf4=parseInt(_0x43ab97(0xe0))/0x1*(-parseInt(_0x43ab97(0x119))/0x2)+-parseInt(_0x43ab97(0x107))/0x3+parseInt(_0x43ab97(0x11d))/0x4*(-parseInt(_0x43ab97(0x136))/0x5)+-parseInt(_0x43ab97(0x16d))/0x6+-parseInt(_0x43ab97(0x130))/0x7*(parseInt(_0x43ab97(0x110))/0x8)+parseInt(_0x43ab97(0x115))/0x9*(parseInt(_0x43ab97(0x100))/0xa)+parseInt(_0x43ab97(0x120))/0xb;if(_0x3d5cf4===_0x251a0b)break;else _0x504e15['push'](_0x504e15['shift']());}catch(_0x7a2445){_0x504e15['push'](_0x504e15['shift']());}}}(_0x1914,0x37078));var __awaiter=this&&this[_0x3b4177(0x11b)]||function(_0x40a601,_0x1c3879,_0x382341,_0xac69a7){function _0x16b1ac(_0x43f522){return _0x43f522 instanceof _0x382341?_0x43f522:new _0x382341(function(_0xfca95){_0xfca95(_0x43f522);});}return new(_0x382341||(_0x382341=Promise))(function(_0x371853,_0x305f1d){const _0x5869a6=_0x20b4;function _0x296959(_0x4e3b82){const _0x19be8c=_0x20b4;try{_0x406eb8(_0xac69a7[_0x19be8c(0x137)](_0x4e3b82));}catch(_0x3cc676){_0x305f1d(_0x3cc676);}}function _0x178a6a(_0x4e9a8f){const _0x570e0b=_0x20b4;try{_0x406eb8(_0xac69a7[_0x570e0b(0x14c)](_0x4e9a8f));}catch(_0x2b8a29){_0x305f1d(_0x2b8a29);}}function _0x406eb8(_0x38e1d3){const _0x3adcb2=_0x20b4;_0x38e1d3['done']?_0x371853(_0x38e1d3[_0x3adcb2(0x162)]):_0x16b1ac(_0x38e1d3[_0x3adcb2(0x162)])[_0x3adcb2(0x156)](_0x296959,_0x178a6a);}_0x406eb8((_0xac69a7=_0xac69a7[_0x5869a6(0x15b)](_0x40a601,_0x1c3879||[]))[_0x5869a6(0x137)]());});},__importDefault=this&&this['__importDefault']||function(_0x13dd68){const _0x2ce03e=_0x3b4177;return _0x13dd68&&_0x13dd68[_0x2ce03e(0x123)]?_0x13dd68:{'default':_0x13dd68};};Object[_0x3b4177(0x10e)](exports,'__esModule',{'value':!![]});const uuid_1=require(_0x3b4177(0xe9)),moment_timezone_1=__importDefault(require(_0x3b4177(0x113))),sequelize_1=require('sequelize'),fs_1=__importDefault(require('fs')),validator_1=__importDefault(require('validator'));class Api{constructor({database:_0x4383cf,user:_0x325365,task:_0x5ef737,storage:_0x4336e7}){const _0x27b36b=_0x3b4177;this['requireAuthUrl']=[],this[_0x27b36b(0x124)]=_0x5ef737,this[_0x27b36b(0xe1)]=_0x4336e7,this[_0x27b36b(0x149)]=_0x4383cf,this[_0x27b36b(0xf4)]=0x3,this['user']=_0x325365,this[_0x27b36b(0x102)]='x-auth-token';}[_0x3b4177(0x139)](_0x885a73){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x24ed50=_0x20b4,_0x3b4df0=_0x885a73[_0x24ed50(0x108)][this[_0x24ed50(0x102)]],_0x32ab50=Buffer[_0x24ed50(0x109)](_0x3b4df0,_0x24ed50(0x12a))['toString'](),_0x3226b6=_0x32ab50[_0x24ed50(0x112)](':')[0x0],_0x1cdd92=yield this[_0x24ed50(0x149)]['apiKeys'][_0x24ed50(0x15d)]({'where':{'secretKey':_0x3226b6},'attributes':[_0x24ed50(0x159)]});if(!_0x1cdd92)throw new Error(_0x24ed50(0xe5));return _0x1cdd92[_0x24ed50(0x159)];});}[_0x3b4177(0x12d)](){return __awaiter(this,void 0x0,void 0x0,function*(){return'It\x20Works!';});}[_0x3b4177(0xf2)](){const _0x1a15b7=_0x3b4177;return(0x0,moment_timezone_1[_0x1a15b7(0x15f)])()['tz'](_0x1a15b7(0x126))[_0x1a15b7(0x151)]();}[_0x3b4177(0xfd)](_0x47d0eb,_0x2d6d52){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1e375c=_0x20b4;_0x47d0eb=_0x47d0eb[_0x1e375c(0x12e)]();const _0xccfc97=yield this[_0x1e375c(0x142)][_0x1e375c(0x141)](_0x2d6d52);if(_0xccfc97)throw new Error(_0x1e375c(0x10c));const _0x5d9200=yield this[_0x1e375c(0x11a)](_0x2d6d52),_0x383ba8=_0x5d9200[_0x1e375c(0x13d)];if(_0x383ba8>=0x3)throw new Error(_0x1e375c(0x164));yield this['database'][_0x1e375c(0x11e)][_0x1e375c(0xfd)]({'userId':_0x2d6d52,'secretKey':(0x0,uuid_1['v4'])(),'created':this['currentEpoch'](),'label':_0x47d0eb['length']<0x1?'SECRET_'+(0x0,uuid_1['v4'])():_0x47d0eb,'active':!![]});});}['list'](_0x11aed6){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3b838c=_0x20b4,_0x5c772f=yield this[_0x3b838c(0x149)][_0x3b838c(0x11e)][_0x3b838c(0x13b)]({'where':{'userId':_0x11aed6},'order':[[_0x3b838c(0xed),'DESC']]});let _0x58c5b1=[];for(const _0x5daa52 of _0x5c772f){_0x58c5b1[_0x3b838c(0xe8)]({'active':_0x5daa52['active'],'id':_0x5daa52['id'],'secretKey':_0x5daa52[_0x3b838c(0x11c)],'created':_0x5daa52[_0x3b838c(0xed)],'label':_0x5daa52[_0x3b838c(0x160)],'limitPerday':_0x5daa52['limitPerdays'],'stats':yield this[_0x3b838c(0x114)](_0x5daa52['id'])});}return _0x58c5b1;});}['getUsageStats'](_0x3f1ea0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x245ef8=_0x20b4,_0x600df2=(0x0,moment_timezone_1[_0x245ef8(0x15f)])()['tz']('Asia/Jakarta')[_0x245ef8(0x15e)](_0x245ef8(0x13c))[_0x245ef8(0x151)](),_0x5bfced=(0x0,moment_timezone_1[_0x245ef8(0x15f)])()['tz']('Asia/Jakarta')[_0x245ef8(0xe7)](_0x245ef8(0x13c))[_0x245ef8(0x151)](),_0x87375a=yield this['database'][_0x245ef8(0x111)][_0x245ef8(0x168)]({'where':{'at':{[sequelize_1['Op'][_0x245ef8(0xf8)]]:[_0x600df2,_0x5bfced]},'secretId':_0x3f1ea0}}),_0x38f24e=yield this[_0x245ef8(0x149)][_0x245ef8(0x11e)][_0x245ef8(0x15d)]({'where':{'id':_0x3f1ea0}}),_0x268ab3=_0x38f24e['limitPerdays'];return{'limit':_0x268ab3,'usage':_0x87375a};});}['isAuthenticatedRequest'](_0x49ad1e){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x385a5d=_0x20b4,_0x3571da=_0x49ad1e['headers'][this[_0x385a5d(0x102)]];if(typeof _0x3571da!==_0x385a5d(0x155))return![];const _0x276a22=Buffer['from'](_0x3571da,_0x385a5d(0x12a))[_0x385a5d(0xee)](),_0x319915=/^[\S]+:\d+$/;if(!_0x319915[_0x385a5d(0x12d)](_0x276a22))throw new Error('Invalid\x20token\x20format');const [_0x55c5d1,_0x48983d]=_0x276a22[_0x385a5d(0x112)](':'),_0xf7c818=this[_0x385a5d(0xf2)](),_0x144d17=[_0xf7c818,_0xf7c818-0x2,_0xf7c818-0x1,_0xf7c818+0x1,_0xf7c818+0x2],_0x4c7791=parseInt(_0x48983d);if(!_0x144d17[_0x385a5d(0xf6)](_0x4c7791))return![];const _0x112ad0=yield this[_0x385a5d(0x149)][_0x385a5d(0x11e)]['findOne']({'where':{'secretKey':_0x55c5d1},'attributes':[_0x385a5d(0x159),'id']});if(!_0x112ad0)return![];const _0x3fbba0=_0x112ad0[_0x385a5d(0x159)],_0x5bcd01=yield this[_0x385a5d(0x142)][_0x385a5d(0x141)](_0x3fbba0);if(_0x5bcd01)return![];const _0x5ae343=yield this['getSecretId'](_0x55c5d1),_0x3da009=yield this[_0x385a5d(0x114)](_0x5ae343);if(_0x3da009[_0x385a5d(0xf5)]>=_0x3da009['limit'])throw new Error(_0x385a5d(0x138)+_0x3da009['limit']);return _0x112ad0['id'];});}[_0x3b4177(0x104)](_0x4de15e,_0x2d0dc9,_0x35ab32,_0x3c1abd,_0x41d5ee,_0x5b6ad8){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x5e0a8d=_0x20b4,_0x52a63c=yield this[_0x5e0a8d(0x149)][_0x5e0a8d(0x11e)]['findOne']({'where':{'secretKey':_0x4de15e},'attributes':['userId']});if(!_0x52a63c){console['error']('Failed\x20for\x20add\x20history:\x20api\x20key\x20not\x20found');return;}yield this[_0x5e0a8d(0x149)][_0x5e0a8d(0x111)][_0x5e0a8d(0xfd)]({'secretKey':_0x4de15e,'userId':_0x52a63c[_0x5e0a8d(0x159)],'at':this[_0x5e0a8d(0xf2)](),'statusCode':_0x2d0dc9,'headers':JSON['stringify'](_0x35ab32),'path':_0x3c1abd,'method':_0x41d5ee[_0x5e0a8d(0x135)],'payload':JSON[_0x5e0a8d(0x153)](_0x41d5ee[_0x5e0a8d(0x15c)]),'alias':_0x5b6ad8,'secretId':yield this[_0x5e0a8d(0x13f)](_0x4de15e)});});}[_0x3b4177(0x133)](_0x4383b8){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x421a45=_0x20b4,_0x367e1f=yield this[_0x421a45(0x149)]['apiKeys'][_0x421a45(0x15d)]({'where':{'id':_0x4383b8},'attributes':['secretKey']});if(!_0x367e1f)throw new Error('Failed\x20for\x20get\x20secret\x20key\x20by\x20id:\x20API\x20key\x20not\x20found');return _0x367e1f[_0x421a45(0x11c)];});}['getSecretId'](_0x4e28bc){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x105c89=_0x20b4,_0x296d46=yield this['database'][_0x105c89(0x11e)][_0x105c89(0x15d)]({'where':{'secretKey':_0x4e28bc},'attributes':['id']});if(!_0x296d46)throw new Error('Secret\x20key\x20was\x20not\x20found!');return _0x296d46['id'];});}[_0x3b4177(0xff)](_0x2497dc,_0x382ded,_0x3a8c69){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x38fa5f=_0x20b4,_0x54abe0=_0x2497dc[_0x38fa5f(0x131)][_0x38fa5f(0xfa)]()[_0x38fa5f(0x112)]('?')[0x0][_0x38fa5f(0x112)]('#')[0x0];if(this[_0x38fa5f(0x14f)]['includes'](_0x54abe0))try{const _0x4fdb07=yield this[_0x38fa5f(0x116)](_0x2497dc);if(_0x4fdb07===![])return _0x382ded[_0x38fa5f(0x163)](0x191)[_0x38fa5f(0x11f)]({'error':!![],'msg':_0x38fa5f(0x146),'code':_0x38fa5f(0xec),'data':null});else{const _0x21592e=yield this['getSecretKeyById'](_0x4fdb07),_0x42a77a=(0x0,uuid_1['v4'])(),_0x42b4a4=yield this[_0x38fa5f(0x13f)](_0x21592e);yield this[_0x38fa5f(0x104)](_0x21592e,0xc8,_0x2497dc['headers'],_0x54abe0,_0x2497dc,_0x42a77a),_0x382ded[_0x38fa5f(0xf0)](_0x38fa5f(0x10f),_0x42a77a),_0x3a8c69();}}catch(_0x203ec4){_0x382ded['json']({'error':!![],'msg':_0x203ec4['message']});}else _0x3a8c69();});}[_0x3b4177(0x16b)](_0xbf46c6,_0x317793,_0x548d53){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x818a3e=_0x20b4;yield this['database'][_0x818a3e(0x11e)][_0x818a3e(0x106)]({'active':_0x317793},{'where':{'userId':_0x548d53,'id':_0xbf46c6}}),yield new Promise(_0x5fe51d=>setTimeout(_0x5fe51d,0x3e8));});}[_0x3b4177(0x10a)](_0x22152b,_0x4e4c1c){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x18a072=_0x20b4,_0x1f7f15=(0x0,uuid_1['v4'])();return yield this[_0x18a072(0x149)][_0x18a072(0x11e)][_0x18a072(0x106)]({'secretKey':_0x1f7f15},{'where':{'userId':_0x4e4c1c,'id':_0x22152b}}),_0x1f7f15;});}[_0x3b4177(0x169)](_0x5e51fa){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2f045a=_0x20b4,_0x247995=yield this['database'][_0x2f045a(0x124)][_0x2f045a(0x168)]({'where':{'userId':_0x5e51fa,'statusKey':_0x2f045a(0x148)}}),_0x22b19a=yield this[_0x2f045a(0x149)][_0x2f045a(0x124)][_0x2f045a(0x168)]({'where':{'userId':_0x5e51fa,'statusKey':'pending'}}),_0x25984e=yield this['database'][_0x2f045a(0x124)]['count']({'where':{'userId':_0x5e51fa,'statusKey':'stopped'}});return{'running':_0x247995,'pending':_0x22b19a,'stopped':_0x25984e};});}['balance'](_0x153601){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x454614=_0x20b4,_0x5d3993=yield this[_0x454614(0x149)]['user'][_0x454614(0x15d)]({'where':{'id':_0x153601},'attributes':[_0x454614(0x103)]});if(!_0x5d3993)throw new Error(_0x454614(0x167));return _0x5d3993[_0x454614(0x103)];});}[_0x3b4177(0xeb)](_0x5cae72){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3d4923=_0x20b4;let _0x2fa75a=[];const _0x275550=yield this[_0x3d4923(0x149)]['files']['findAll']({'where':{'userId':_0x5cae72},'order':[[_0x3d4923(0xed),_0x3d4923(0xf7)]]});for(const _0x492437 of _0x275550){_0x2fa75a['push']({'id':_0x492437[_0x3d4923(0x15a)],'name':_0x492437[_0x3d4923(0x166)],'size':{'bytes':_0x492437[_0x3d4923(0x14d)]},'uploaded':{'epoch':_0x492437[_0x3d4923(0xed)],'timezone':'Asia/Jakarta','iso':(0x0,moment_timezone_1[_0x3d4923(0x15f)])(_0x492437[_0x3d4923(0xed)]*0x3e8)['tz'](_0x3d4923(0x126))[_0x3d4923(0x13e)]()},'mimeType':_0x492437[_0x3d4923(0xe3)],'folder':_0x492437[_0x3d4923(0xf3)],'publicAccess':_0x492437[_0x3d4923(0xea)]});}return _0x2fa75a;});}[_0x3b4177(0x147)](_0x3830fb,_0x15fe87){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x446a4d=_0x20b4,_0x46e7c2=['trash',_0x446a4d(0xf9)];if(!_0x46e7c2['includes'](_0x15fe87))throw new Error(_0x446a4d(0x129));const _0x456217=yield this[_0x446a4d(0xe1)][_0x446a4d(0x16f)](_0x3830fb);if(!_0x456217)throw new Error(_0x446a4d(0x145));if(_0x15fe87===_0x446a4d(0xfe))yield this[_0x446a4d(0x149)][_0x446a4d(0xeb)][_0x446a4d(0x106)]({'folder':_0x446a4d(0xfe)},{'where':{'alias':_0x3830fb}});else{const _0x19a4af=yield this[_0x446a4d(0xe1)][_0x446a4d(0x12c)](_0x3830fb);if(_0x19a4af['length']>0x0)throw new Error('Failed\x20for\x20delete\x20the\x20file\x20because\x20file\x20is\x20used\x20by\x20task:\x20'+_0x19a4af[_0x446a4d(0x134)](',\x20')+'.');const _0x5ddd59=yield this[_0x446a4d(0xe1)][_0x446a4d(0x125)](_0x3830fb);fs_1[_0x446a4d(0x15f)][_0x446a4d(0x165)](_0x5ddd59)&&fs_1[_0x446a4d(0x15f)][_0x446a4d(0x14e)](_0x5ddd59),yield this[_0x446a4d(0x149)][_0x446a4d(0xeb)]['destroy']({'where':{'alias':_0x3830fb}});}});}[_0x3b4177(0x128)](_0x52aeb1){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3980be=_0x20b4,_0x4cbc6d=yield this['database'][_0x3980be(0x124)][_0x3980be(0x13b)]({'where':{'userId':_0x52aeb1},'attributes':['alias'],'order':[['id',_0x3980be(0xf7)]]}),_0x3ff9c5=_0x4cbc6d[_0x3980be(0x161)](_0x47d213=>_0x47d213[_0x3980be(0x15a)]);let _0x6059f9=[];for(const _0x375df6 of _0x3ff9c5){_0x6059f9[_0x3980be(0xe8)](yield this[_0x3980be(0x124)]['detail'](_0x375df6));}return _0x6059f9;});}[_0x3b4177(0xef)](_0x5e156f){return __awaiter(this,arguments,void 0x0,function*({name:_0x5cd6b5,schedule:_0x3e8540,shuffle:_0x2b6e7f,infiniteLoop:_0x458b25,files:_0x1bbef2,streamKey:_0x169eba,streamUrl:_0x131ac7,userId:_0x415b23,repeat:_0x54dba0,autoStopAt:_0x22c480}){const _0xb3dd3e=_0x20b4;_0x5cd6b5=_0x5cd6b5[_0xb3dd3e(0x12e)]();!_0x131ac7[_0xb3dd3e(0x157)]('/')&&(_0x131ac7+='/');(typeof _0x54dba0!==_0xb3dd3e(0xfc)||_0x54dba0<0x1)&&(_0x54dba0=0x1);if(_0x5cd6b5[_0xb3dd3e(0x13d)]<0x1)throw new Error(_0xb3dd3e(0x12f));if(_0x1bbef2[_0xb3dd3e(0x13d)]<0x1)throw new Error('Files\x20is\x20cant\x20be\x20empty');for(const _0x3b3557 of _0x1bbef2){const _0x3cfd3c=yield this[_0xb3dd3e(0xe1)][_0xb3dd3e(0x16f)](_0x3b3557);if(!_0x3cfd3c)throw new Error(_0xb3dd3e(0x158)+_0x3b3557+'\x20isn\x27t\x20exists');const _0x48edd2=yield this[_0xb3dd3e(0xe1)][_0xb3dd3e(0x143)](_0x3b3557);if(!_0x48edd2[_0xb3dd3e(0xe3)]['startsWith']('video/'))throw new Error(_0xb3dd3e(0x117)+_0x3b3557+_0xb3dd3e(0xe6));}const _0x497dfe=validator_1[_0xb3dd3e(0x15f)][_0xb3dd3e(0x144)](_0x131ac7,{'protocols':[_0xb3dd3e(0x105),_0xb3dd3e(0xe4)]});if(!_0x497dfe)throw new Error('Please\x20provide\x20the\x20valid\x20server\x20key\x20url');if(_0x131ac7[_0xb3dd3e(0x12e)]()[_0xb3dd3e(0x13d)]<0x1)throw new Error('Please\x20provide\x20the\x20server\x20key');const _0x2b2e6a=this[_0xb3dd3e(0xf2)](),_0x24b34e=(yield this[_0xb3dd3e(0x142)]['detail'](_0x415b23,'id'))[_0xb3dd3e(0x150)],_0x3c9e55=(0x0,uuid_1['v4'])();yield this[_0xb3dd3e(0x149)][_0xb3dd3e(0x124)][_0xb3dd3e(0xfd)]({'alias':_0x3c9e55,'name':_0x5cd6b5,'scheduleEnabled':typeof _0x3e8540===_0xb3dd3e(0xfc),'scheduleTime':_0x3e8540,'fileShuffle':_0x2b6e7f,'fileRepeat':_0x54dba0,'fileAliases':JSON[_0xb3dd3e(0x153)](_0x1bbef2),'streamKey':_0x169eba,'pid':null,'statusColor':_0xb3dd3e(0x10d),'statusMessage':_0xb3dd3e(0x101),'statusTitle':_0xb3dd3e(0x152),'statusKey':'stopped','created':_0x2b2e6a,'userId':_0x415b23,'userEmail':_0x24b34e,'currentLiveFile':null,'currentLiveIndex':0x0,'infiniteLoop':_0x458b25,'platformKey':'CUSTOM','platformUrl':_0x131ac7,'autoStopAt':_0x22c480}),this[_0xb3dd3e(0x124)][_0xb3dd3e(0x122)](_0x3c9e55);});}[_0x3b4177(0x14a)](_0x3b2d07){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3f2b90=_0x20b4,_0x420f9b=yield this[_0x3f2b90(0x149)][_0x3f2b90(0xfb)][_0x3f2b90(0x15d)]({'where':{'userId':_0x3b2d07},'attributes':['hash']});if(!_0x420f9b)throw new Error(_0x3f2b90(0x16c));return _0x420f9b[_0x3f2b90(0x127)];});}['uploadFile'](_0x23b1f4,_0x3f4e47){return __awaiter(this,void 0x0,void 0x0,function*(){const _0xad4924=_0x20b4,_0x110e46=yield this[_0xad4924(0x14a)](_0x23b1f4);yield this[_0xad4924(0xe1)]['uploadFile'](_0x3f4e47);});}[_0x3b4177(0xf1)](_0x5976e5,_0x227b95){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x191cb5=_0x20b4,_0x25484d=[_0x191cb5(0x10b),_0x191cb5(0x118)];if(!_0x25484d[_0x191cb5(0xf6)](_0x227b95))throw new Error(_0x191cb5(0x12b));const _0x21ea7a=yield this[_0x191cb5(0x124)][_0x191cb5(0x13a)](_0x5976e5);if(_0x227b95===_0x191cb5(0x10b)){if(_0x21ea7a[_0x191cb5(0xe2)]===_0x191cb5(0x140))throw new Error('Status\x20of\x20this\x20task\x20is\x20currently\x20stopped');yield this['task']['stop'](_0x5976e5);}else{if(_0x21ea7a['statusKey']===_0x191cb5(0x148)||_0x21ea7a[_0x191cb5(0xe2)]==='pending'||_0x21ea7a[_0x191cb5(0xe2)]===_0x191cb5(0x121))throw new Error(_0x191cb5(0x16a));yield this[_0x191cb5(0x124)][_0x191cb5(0x118)](_0x5976e5);}});}[_0x3b4177(0x14b)](_0x35213f){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x114d1f=_0x20b4,_0x1a90c9=yield this['task'][_0x114d1f(0x13a)](_0x35213f);_0x1a90c9['statusKey']!==_0x114d1f(0x140)&&(yield this['task'][_0x114d1f(0x10b)](_0x35213f)),yield this['database'][_0x114d1f(0x124)][_0x114d1f(0x132)]({'where':{'alias':_0x35213f}});});}[_0x3b4177(0x16e)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x389bbd=_0x20b4,_0x115b02=yield this[_0x389bbd(0xe1)][_0x389bbd(0x154)]();return _0x115b02;});}}exports[_0x3b4177(0x15f)]=Api;