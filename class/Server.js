'use strict';const _0x47687d=_0x597c;function _0x597c(_0xba114e,_0x273aa4){const _0x9acd30=_0x9acd();return _0x597c=function(_0x597c5d,_0x49c6ea){_0x597c5d=_0x597c5d-0x1e9;let _0x138c7d=_0x9acd30[_0x597c5d];return _0x138c7d;},_0x597c(_0xba114e,_0x273aa4);}(function(_0x4b4bd5,_0x144307){const _0xfa972a=_0x597c,_0x2ac534=_0x4b4bd5();while(!![]){try{const _0x59c986=-parseInt(_0xfa972a(0x249))/0x1*(-parseInt(_0xfa972a(0x28e))/0x2)+parseInt(_0xfa972a(0x203))/0x3*(parseInt(_0xfa972a(0x209))/0x4)+-parseInt(_0xfa972a(0x248))/0x5*(-parseInt(_0xfa972a(0x20f))/0x6)+parseInt(_0xfa972a(0x1f9))/0x7+-parseInt(_0xfa972a(0x215))/0x8*(-parseInt(_0xfa972a(0x26a))/0x9)+-parseInt(_0xfa972a(0x238))/0xa*(-parseInt(_0xfa972a(0x283))/0xb)+-parseInt(_0xfa972a(0x23d))/0xc;if(_0x59c986===_0x144307)break;else _0x2ac534['push'](_0x2ac534['shift']());}catch(_0x118e32){_0x2ac534['push'](_0x2ac534['shift']());}}}(_0x9acd,0x5dab1));var __awaiter=this&&this[_0x47687d(0x211)]||function(_0x13c334,_0x26da9e,_0x5b05d8,_0x17c1e3){function _0x8c5a8f(_0x873bf5){return _0x873bf5 instanceof _0x5b05d8?_0x873bf5:new _0x5b05d8(function(_0x2da550){_0x2da550(_0x873bf5);});}return new(_0x5b05d8||(_0x5b05d8=Promise))(function(_0x42b9b7,_0x166ac2){const _0x368c4d=_0x597c;function _0x582e04(_0x2cf0fb){const _0xcfd5f4=_0x597c;try{_0x147906(_0x17c1e3[_0xcfd5f4(0x24d)](_0x2cf0fb));}catch(_0x25ed9a){_0x166ac2(_0x25ed9a);}}function _0x17984f(_0x519221){const _0x5e6796=_0x597c;try{_0x147906(_0x17c1e3[_0x5e6796(0x234)](_0x519221));}catch(_0x1a5171){_0x166ac2(_0x1a5171);}}function _0x147906(_0x57caee){const _0x50baa8=_0x597c;_0x57caee[_0x50baa8(0x268)]?_0x42b9b7(_0x57caee[_0x50baa8(0x1e9)]):_0x8c5a8f(_0x57caee['value'])[_0x50baa8(0x24c)](_0x582e04,_0x17984f);}_0x147906((_0x17c1e3=_0x17c1e3[_0x368c4d(0x210)](_0x13c334,_0x26da9e||[]))[_0x368c4d(0x24d)]());});},__importDefault=this&&this['__importDefault']||function(_0x3f6e9d){const _0x8e2c3e=_0x47687d;return _0x3f6e9d&&_0x3f6e9d[_0x8e2c3e(0x262)]?_0x3f6e9d:{'default':_0x3f6e9d};};Object[_0x47687d(0x1f1)](exports,_0x47687d(0x262),{'value':!![]});function _0x9acd(){const _0x298789=['changeFolder','forgotPassword','transactions','/task/getTotalDecimalTodayStat','/auth/register','/auth/google','session','/balance/removeTransaction','google','/api/uploadFile','storage','path','handshake','changePublicAccess','/api/reset','/api/taskStats','get','/api/removeTask','Listening\x20on\x20port:\x20','throw','/storage/shareDetail','setActive','/balance/cancelTransaction','2830XKPFek','renderFrontend','index.html','DELETE','POST','27336696MkXBxS','task','/task/stop','Application\x20is\x20already\x20started!','/device/performanceReports','/auth/login','Content-Type','/storage/remove','../frontend_bundled','app','taskStats','2652295cWTCYu','5237nZFpAa','single','/task/remove','then','next','createTask','/api/list','/api/expiredEpoch','memoryStorage','/task/restart','restart','isFile','/api/create','log','disconnect','end','/api/storageStats','join','/storage/gdrive-dl','removeTask','download','/storage/stats','frontendIndex','reset','removeFile','__esModule','resetPassword','\x20ðŸŽ‰ðŸŽ‰','performanceReports','PUT','setHeader','done','midtransNotification','3318804liDjHk','stats','deviceExpiration','gdriveDl','/api/balance','emptyTrash','/auth/getResetPassTokenDetail','balance','/api/createTask','/storage/download/:alias','/api/tasks','api','/user/profile','express','http','listen','googleCallback','preview','granted','profile','/storage/files/:folder','/balance/midtransNotification','removeConnection','task-list-page','transactionHistory','22781hgAABy','device','use','changeTaskState','uploadFile','/auth/emailVerification','createServer','/balance/transactions','/api/changeTaskState','/session/userDashboardData','/storage/emptyTrash','206xEfDtq','/storage/changeFolder','/api/test','value','statSync','/api/removeFile','tasks','port','encryption','stop','text/html','defineProperty','remove','GET','/auth/forgotPassword','/storage/changePublicAccess','file','userDashboardData','list','664265VsKrlu','/user/isDeveloper','getResetPassTokenDetail','prepareRoute','fileInformation','/task/create','/auth/g-callback','OPTIONS','/balance/transactionHistory','/storage/typedFiles','11871HopcuQ','once','auth','default','post','files','548CNlMdv','sendFile','/storage/fileInformation','existsSync','4000mb','type','6rYOxRZ','apply','__awaiter','/auth/resetPassword','start','user','8xYvjMa','multer','/api/files','removeTransaction','/task/start','/session/isValid','shareDetail','reason','../controller','/balance/get','create','socket.io'];_0x9acd=function(){return _0x298789;};return _0x9acd();}const express_1=__importDefault(require(_0x47687d(0x277))),controller_1=__importDefault(require(_0x47687d(0x21d))),cors_1=__importDefault(require('cors')),body_parser_1=__importDefault(require('body-parser')),multer_1=__importDefault(require(_0x47687d(0x216))),http_1=require(_0x47687d(0x278)),socket_io_1=require(_0x47687d(0x220)),path_1=__importDefault(require(_0x47687d(0x22c))),fs_1=__importDefault(require('fs')),storage=multer_1[_0x47687d(0x206)][_0x47687d(0x251)](),upload=(0x0,multer_1[_0x47687d(0x206)])({'storage':storage});class Server{constructor(_0x5f30cb,{auth:_0x4c8053,session:_0x5908a3,encryption:_0x14151c,user:_0x10578a,database:_0x2844c,storage:_0x300dfe,task:_0x19a613,balance:_0x554d7d,device:_0x152a34,api:_0x4d9194,deviceExpiration:_0x4bc196}){const _0x1749cc=_0x47687d;this[_0x1749cc(0x1ed)]=_0x5f30cb,this[_0x1749cc(0x26c)]=_0x4bc196,this['app']=null,this[_0x1749cc(0x284)]=_0x152a34,this[_0x1749cc(0x271)]=_0x554d7d,this[_0x1749cc(0x205)]=_0x4c8053,this[_0x1749cc(0x227)]=_0x5908a3,this[_0x1749cc(0x1ee)]=_0x14151c,this['user']=_0x10578a,this['database']=_0x2844c,this[_0x1749cc(0x22b)]=_0x300dfe,this['task']=_0x19a613,this['api']=_0x4d9194,this[_0x1749cc(0x26c)]=_0x4bc196,this['frontendRootPath']=path_1['default']['join'](__dirname,_0x1749cc(0x245)),this['frontendIndex']=path_1[_0x1749cc(0x206)][_0x1749cc(0x25a)](this['frontendRootPath'],_0x1749cc(0x23a));}[_0x47687d(0x239)](_0x48faf5,_0x279087){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2a3874=_0x597c,_0x2c40dd=path_1['default'][_0x2a3874(0x25a)](this['frontendRootPath'],_0x48faf5[_0x2a3874(0x22c)]);if(fs_1[_0x2a3874(0x206)][_0x2a3874(0x20c)](_0x2c40dd)&&fs_1['default'][_0x2a3874(0x1ea)](_0x2c40dd)[_0x2a3874(0x254)]())_0x279087['sendFile'](_0x2c40dd);else{try{const _0xb8a9b6=yield this[_0x2a3874(0x26c)]['accessStatus']();if(!_0xb8a9b6[_0x2a3874(0x27c)]){_0x279087[_0x2a3874(0x267)](_0x2a3874(0x243),'text/plain'),_0x279087['write'](_0xb8a9b6[_0x2a3874(0x21c)]),_0x279087[_0x2a3874(0x258)]();return;}}catch(_0x16c023){}_0x279087[_0x2a3874(0x267)](_0x2a3874(0x243),_0x2a3874(0x1f0)),_0x279087[_0x2a3874(0x20a)](this[_0x2a3874(0x25f)]);}});}[_0x47687d(0x1fc)](_0x29ac05){const _0x21f11a=_0x47687d;_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x242),(_0x11987e,_0x2afd81)=>controller_1['default'][_0x21f11a(0x205)]['login'](_0x11987e,_0x2afd81,this[_0x21f11a(0x205)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x225),(_0x5d9f83,_0x2cce3b)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x205)]['register'](_0x5d9f83,_0x2cce3b,this[_0x21f11a(0x205)])),_0x29ac05['get'](_0x21f11a(0x288),(_0x415787,_0x148178)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x205)]['emailVerification'](_0x415787,_0x148178,this['auth'])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x21a),(_0x34265b,_0x1b4a29)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x227)]['isValid'](_0x34265b,_0x1b4a29,this[_0x21f11a(0x227)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x1f4),(_0x2c4bb0,_0x344b88)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x205)][_0x21f11a(0x222)](_0x2c4bb0,_0x344b88,this[_0x21f11a(0x205)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x270),(_0xb1e507,_0x23bc17)=>controller_1['default'][_0x21f11a(0x205)][_0x21f11a(0x1fb)](_0xb1e507,_0x23bc17,this[_0x21f11a(0x205)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x212),(_0x4abefb,_0x416116)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x205)][_0x21f11a(0x263)](_0x4abefb,_0x416116,this[_0x21f11a(0x205)])),_0x29ac05[_0x21f11a(0x207)]('/storage/uploadFile',upload[_0x21f11a(0x24a)](_0x21f11a(0x1f6)),(_0x3b45bf,_0x294b59)=>controller_1['default'][_0x21f11a(0x22b)][_0x21f11a(0x287)](_0x3b45bf,_0x294b59,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x25e),(_0x54a16e,_0x9e8cc9)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x22b)][_0x21f11a(0x26b)](_0x54a16e,_0x9e8cc9,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x27e),(_0x1ed768,_0x5eaaee)=>controller_1['default'][_0x21f11a(0x22b)][_0x21f11a(0x208)](_0x1ed768,_0x5eaaee,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x231)]('/storage/preview/:alias',(_0x4733b3,_0x4841c6)=>controller_1[_0x21f11a(0x206)]['storage'][_0x21f11a(0x27b)](_0x4733b3,_0x4841c6,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x273),(_0x127df4,_0x487d85)=>controller_1['default']['storage'][_0x21f11a(0x25d)](_0x127df4,_0x487d85,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x235),(_0x474da0,_0x335917)=>controller_1[_0x21f11a(0x206)]['storage'][_0x21f11a(0x21b)](_0x474da0,_0x335917,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x1f5),(_0x2cd88d,_0x460999)=>controller_1['default'][_0x21f11a(0x22b)][_0x21f11a(0x22e)](_0x2cd88d,_0x460999,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x231)]('/storage/dl',(_0x3d521a,_0x4a48ae)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x22b)]['dl'](_0x3d521a,_0x4a48ae,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x20b),(_0x247971,_0xbb2bb)=>controller_1[_0x21f11a(0x206)]['storage'][_0x21f11a(0x1fd)](_0x247971,_0xbb2bb,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x28f),(_0x4251b0,_0x13b567)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x22b)][_0x21f11a(0x221)](_0x4251b0,_0x13b567,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x244),(_0x2185df,_0x3a28f7)=>controller_1[_0x21f11a(0x206)]['storage'][_0x21f11a(0x1f2)](_0x2185df,_0x3a28f7,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x28d),(_0x33f3a0,_0x21f6c9)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x22b)][_0x21f11a(0x26f)](_0x33f3a0,_0x21f6c9,this[_0x21f11a(0x22b)])),_0x29ac05['post'](_0x21f11a(0x202),(_0x238e02,_0x56465f)=>controller_1['default']['storage']['typedFiles'](_0x238e02,_0x56465f,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x1fe),(_0x2054c4,_0x14d85c)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x23e)][_0x21f11a(0x21f)](_0x2054c4,_0x14d85c,this[_0x21f11a(0x23e)])),_0x29ac05['post'](_0x21f11a(0x23f),(_0x2aff9f,_0x20d863)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x23e)][_0x21f11a(0x1ef)](_0x2aff9f,_0x20d863,this[_0x21f11a(0x23e)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x219),(_0x52d128,_0x154fee)=>controller_1[_0x21f11a(0x206)]['task'][_0x21f11a(0x213)](_0x52d128,_0x154fee,this[_0x21f11a(0x23e)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x252),(_0x2d36d2,_0x182cb8)=>controller_1['default'][_0x21f11a(0x23e)][_0x21f11a(0x253)](_0x2d36d2,_0x182cb8,this[_0x21f11a(0x23e)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x24b),(_0x1c43e8,_0x2117fb)=>controller_1[_0x21f11a(0x206)]['task']['remove'](_0x1c43e8,_0x2117fb,this[_0x21f11a(0x23e)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x28c),(_0x592a55,_0x14496c)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x227)][_0x21f11a(0x1f7)](_0x592a55,_0x14496c,this[_0x21f11a(0x227)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x201),(_0x15b95e,_0x4aaf77)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x271)][_0x21f11a(0x282)](_0x15b95e,_0x4aaf77,this[_0x21f11a(0x271)])),_0x29ac05[_0x21f11a(0x207)]('/balance/deposit',(_0x43d185,_0x385012)=>controller_1[_0x21f11a(0x206)]['balance']['deposit'](_0x43d185,_0x385012,this[_0x21f11a(0x271)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x28a),(_0x5e30f2,_0x117285)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x271)][_0x21f11a(0x223)](_0x5e30f2,_0x117285,this[_0x21f11a(0x271)])),_0x29ac05['post'](_0x21f11a(0x237),(_0x286a8c,_0x5e167e)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x271)]['cancelTransaction'](_0x286a8c,_0x5e167e,this[_0x21f11a(0x271)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x228),(_0x5646d7,_0x510ed2)=>controller_1[_0x21f11a(0x206)]['balance'][_0x21f11a(0x218)](_0x5646d7,_0x510ed2,this['balance'])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x27f),(_0x2ea2ee,_0x1d5554)=>controller_1['default'][_0x21f11a(0x271)][_0x21f11a(0x269)](_0x2ea2ee,_0x1d5554,this[_0x21f11a(0x271)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x276),(_0x4b8ef2,_0x10a4f0)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x214)][_0x21f11a(0x27d)](_0x4b8ef2,_0x10a4f0,this[_0x21f11a(0x214)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x241),(_0x26e7ab,_0x42199f)=>controller_1[_0x21f11a(0x206)]['device'][_0x21f11a(0x265)](_0x26e7ab,_0x42199f,this[_0x21f11a(0x284)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x224),(_0x57a8fa,_0x219efe)=>controller_1['default'][_0x21f11a(0x23e)]['getTotalDecimalTodayStat'](_0x57a8fa,_0x219efe,this[_0x21f11a(0x23e)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x226),(_0x49a2bd,_0x24b845)=>controller_1[_0x21f11a(0x206)]['auth'][_0x21f11a(0x229)](_0x49a2bd,_0x24b845,this['auth'])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x1ff),(_0x3664da,_0x53a851)=>controller_1['default']['auth'][_0x21f11a(0x27a)](_0x3664da,_0x53a851,this[_0x21f11a(0x205)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x21e),(_0x3f1fc4,_0x160982)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x271)][_0x21f11a(0x231)](_0x3f1fc4,_0x160982,this[_0x21f11a(0x271)],this[_0x21f11a(0x227)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x255),(_0x35d9a8,_0x52fc9c)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x275)][_0x21f11a(0x21f)](_0x35d9a8,_0x52fc9c,this[_0x21f11a(0x227)],this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x24f),(_0x5ee895,_0xcbfa46)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x275)][_0x21f11a(0x1f8)](_0x5ee895,_0xcbfa46,this[_0x21f11a(0x275)],this[_0x21f11a(0x227)])),_0x29ac05['post'](_0x21f11a(0x22f),(_0x1b0713,_0x80029a)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x275)][_0x21f11a(0x260)](_0x1b0713,_0x80029a,this[_0x21f11a(0x275)],this['session'])),_0x29ac05[_0x21f11a(0x207)]('/api/set-active',(_0x10be16,_0x2c4122)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x275)][_0x21f11a(0x236)](_0x10be16,_0x2c4122,this['session'],this['api'])),_0x29ac05['get'](_0x21f11a(0x290),(_0x45ac43,_0x1efd9a)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x275)]['test'](_0x45ac43,_0x1efd9a,this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x230),(_0x42b2d8,_0x5be24f)=>controller_1[_0x21f11a(0x206)]['api'][_0x21f11a(0x247)](_0x42b2d8,_0x5be24f,this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x26e),(_0x451a68,_0x54fc8b)=>controller_1[_0x21f11a(0x206)]['api'][_0x21f11a(0x271)](_0x451a68,_0x54fc8b,this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x217),(_0x3c388e,_0x59e593)=>controller_1['default'][_0x21f11a(0x275)][_0x21f11a(0x208)](_0x3c388e,_0x59e593,this['api'])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x1eb),(_0x35c8a9,_0x459708)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x275)][_0x21f11a(0x261)](_0x35c8a9,_0x459708,this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x274),(_0x21b2c8,_0x5c7be8)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x275)][_0x21f11a(0x1ec)](_0x21b2c8,_0x5c7be8,this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x272),(_0x21290a,_0xe35460)=>controller_1['default'][_0x21f11a(0x275)][_0x21f11a(0x24e)](_0x21290a,_0xe35460,this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x22a),upload[_0x21f11a(0x24a)](_0x21f11a(0x1f6)),(_0x4cf761,_0x311acd)=>controller_1['default'][_0x21f11a(0x275)][_0x21f11a(0x287)](_0x4cf761,_0x311acd,this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x28b),(_0x3013e5,_0xd957bf)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x275)][_0x21f11a(0x286)](_0x3013e5,_0xd957bf,this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x232),(_0x724bd8,_0x13125c)=>controller_1['default'][_0x21f11a(0x275)][_0x21f11a(0x25c)](_0x724bd8,_0x13125c,this[_0x21f11a(0x275)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x259),(_0x3bc4b5,_0x23aa17)=>controller_1['default'][_0x21f11a(0x275)]['storageStats'](_0x3bc4b5,_0x23aa17,this['api'])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x1fa),(_0x335b53,_0x39b98a)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x214)]['isDeveloper'](_0x335b53,_0x39b98a,this[_0x21f11a(0x214)],this[_0x21f11a(0x227)])),_0x29ac05[_0x21f11a(0x231)](_0x21f11a(0x250),(_0x11b9a6,_0x2466a9)=>controller_1[_0x21f11a(0x206)][_0x21f11a(0x275)]['expiredEpoch'](_0x11b9a6,_0x2466a9,this[_0x21f11a(0x26c)])),_0x29ac05[_0x21f11a(0x231)]('/task/stats',(_0x382dfe,_0x123727)=>controller_1[_0x21f11a(0x206)]['task'][_0x21f11a(0x26b)](_0x382dfe,_0x123727,this['task'])),_0x29ac05[_0x21f11a(0x207)](_0x21f11a(0x25b),(_0x35c230,_0x585494)=>controller_1['default'][_0x21f11a(0x22b)][_0x21f11a(0x26d)](_0x35c230,_0x585494,this[_0x21f11a(0x22b)])),_0x29ac05[_0x21f11a(0x231)]('*',(_0x5f40b8,_0x4952a1)=>this['renderFrontend'](_0x5f40b8,_0x4952a1));}[_0x47687d(0x213)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1d4ebb=_0x597c;if(this[_0x1d4ebb(0x246)])throw new Error(_0x1d4ebb(0x240));this['app']=(0x0,express_1[_0x1d4ebb(0x206)])(),this[_0x1d4ebb(0x246)]['use']((0x0,cors_1[_0x1d4ebb(0x206)])()),this['app'][_0x1d4ebb(0x285)]((0x0,body_parser_1[_0x1d4ebb(0x206)])({'limit':_0x1d4ebb(0x20d),'extended':!![]}));const _0x15ad6f=(0x0,http_1[_0x1d4ebb(0x289)])(this[_0x1d4ebb(0x246)]),_0x53567d=new socket_io_1['Server'](_0x15ad6f,{'cors':{'origin':'*','methods':[_0x1d4ebb(0x1f3),_0x1d4ebb(0x23c),_0x1d4ebb(0x266),_0x1d4ebb(0x23b),_0x1d4ebb(0x200)]}});_0x53567d['attach'](_0x15ad6f),_0x53567d['on']('connect',_0x4237e8=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x2e7255=_0x1d4ebb,_0x4dfd1a=_0x4237e8[_0x2e7255(0x22d)][_0x2e7255(0x205)][_0x2e7255(0x227)],_0x291bd8=_0x4237e8[_0x2e7255(0x22d)][_0x2e7255(0x205)][_0x2e7255(0x20e)];if(_0x291bd8===_0x2e7255(0x281))try{yield this['task']['addConnection'](_0x4dfd1a,_0x4237e8);}catch(_0x5e6ce7){console['error'](_0x5e6ce7['message']||_0x5e6ce7);}_0x4237e8[_0x2e7255(0x204)](_0x2e7255(0x257),()=>{const _0x3a7fb5=_0x2e7255;this[_0x3a7fb5(0x23e)][_0x3a7fb5(0x280)](_0x4237e8);});})),_0x15ad6f[_0x1d4ebb(0x279)](this['port'],()=>{const _0x2ecfa9=_0x1d4ebb;console[_0x2ecfa9(0x256)](_0x2ecfa9(0x233)+this[_0x2ecfa9(0x1ed)]+_0x2ecfa9(0x264));}),this['prepareRoute'](this[_0x1d4ebb(0x246)]);});}}exports['default']=Server;